<div class="login-wrapper">
  <div class="login-card">
    <div class="brand">
      <div class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd"
            d="M11.484 2.17a.75.75 0 011.032 0 11.209 11.209 0 007.877 3.08.75.75 0 01.75.75V12a11.21 11.21 0 01-2.924 7.502 11.21 11.21 0 01-7.14 3.493.75.75 0 01-.158 0A11.21 11.21 0 011.83 12V6a.75.75 0 01.75-.75 11.209 11.209 0 007.877-3.081l.053-.053.974-.974zm1.516 1.94l-.75-.75a12.709 12.709 0 01-7.22 2.822v5.818a9.71 9.71 0 002.534 6.502 9.71 9.71 0 006.185 3.024 9.71 9.71 0 006.185-3.024A9.71 9.71 0 0021.75 12V6.182a12.709 12.709 0 01-7.22-2.822l-.75.75zM12 7.5a.75.75 0 01.75.75v3.44l2.5 1.5a.75.75 0 11-.75 1.298l-2.875-1.725A.75.75 0 0111.25 12V8.25A.75.75 0 0112 7.5z"
            clip-rule="evenodd" />
        </svg>
      </div>
      <h2>MedNex Enterprise</h2>
      <p>Secure Hospital Management Login</p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <div class="error-alert" *ngIf="error">
        {{ error }}
      </div>

      <div class="input-group">
        <label>Email</label>
        <input type="email" placeholder="name@hospital.com" formControlName="email">
        <div class="error-msg" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid">
          Please enter a valid hospital email
        </div>
      </div>

      <div class="input-group">
        <label>Password</label>
        <input type="password" placeholder="Enter your password" formControlName="password">
        <div class="error-msg" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid">
          Password must be at least 6 characters
        </div>
      </div>

      <button type="submit" class="btn-login" [disabled]="loading">
        {{ loading ? 'Signing In...' : 'Sign In' }}
      </button>

      <div class="helper-text">
        <span (click)="showSupportModal.set(true)">Forgot password? Contact IT Support</span>
      </div>
    </form>
  </div>

  <!-- IT Support Modal -->
  <div class="modal-overlay" *ngIf="showSupportModal()" (click)="showSupportModal.set(false)">
    <div class="modal-card" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>IT Support Center</h3>
        <button class="close-btn" (click)="showSupportModal.set(false)">&times;</button>
      </div>
      <div class="modal-body">
        <div class="support-icon">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M11.42 15.17L17.25 21A2.673 2.673 0 0113.5 21.001L11.42 18.921M4.5 3h15a2.25 2.25 0 012.25 2.25v13.5A2.25 2.25 0 0119.5 21h-15A2.25 2.25 0 012.25 18.75V5.25A2.25 2.25 0 014.5 3z" />
          </svg>
        </div>
        <p>For security reasons, password resets must be handled by our enterprise IT team.</p>

        <div class="contact-details">
          <div class="contact-item">
            <label>Internal Support Email:</label>
            <a href="mailto:it.support@mednex.enterprise">it.support@mednex.enterprise</a>
          </div>
          <div class="contact-item">
            <label>Support Hotline:</label>
            <span>+1 (800) MED-HELP</span>
          </div>
        </div>

        <p class="hours">Support available: 24/7 for Medical Staff</p>
      </div>
      <div class="modal-footer">
        <button class="btn-primary" (click)="showSupportModal.set(false)">Understood</button>
      </div>
    </div>
  </div>
</div>